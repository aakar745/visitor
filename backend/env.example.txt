# ==================================
# APPLICATION CONFIGURATION
# ==================================
NODE_ENV=development
PORT=3000
API_PREFIX=api/v1

# Application Details
APP_NAME=Visitor Management System
APP_URL=http://localhost:3000
FRONTEND_URL=http://localhost:5173

# Cookie Configuration (for subdomain sharing)
# Set to '.yourdomain.com' (note the leading dot) to share cookies across subdomains
# Leave empty for localhost development (default behavior works fine for single domain)
# Production Example: COOKIE_DOMAIN=.aakarvisitors.in
COOKIE_DOMAIN=

# ==================================
# DATABASE CONFIGURATION (MongoDB)
# ==================================
MONGODB_URI=mongodb://localhost:27017/visitor_management
MONGODB_USER=
MONGODB_PASSWORD=
MONGODB_DATABASE=visitor_management
MONGODB_AUTH_SOURCE=admin

# MongoDB Connection Options
MONGODB_MAX_POOL_SIZE=10
MONGODB_MIN_POOL_SIZE=2
MONGODB_CONNECTION_TIMEOUT=30000
MONGODB_SOCKET_TIMEOUT=30000

# ==================================
# JWT AUTHENTICATION
# ==================================
# ‚ö†Ô∏è  CRITICAL SECURITY REQUIREMENT ‚ö†Ô∏è
# 
# JWT secrets are REQUIRED in all environments (including development).
# The application will NOT start without these secrets.
#
# üîß Quick Setup:
#   Run: npm run generate:secrets
#   This will create secure random secrets for you.
#
# üîí Manual Generation:
#   Generate secure secrets (128 characters) using:
#   node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
# üìã Requirements:
#   ‚Ä¢ Minimum 64 characters for production
#   ‚Ä¢ JWT_SECRET and JWT_REFRESH_SECRET must be DIFFERENT
#   ‚Ä¢ Never commit actual secrets to git
#   ‚Ä¢ Rotate secrets every 90 days in production
#
# ‚ùå DO NOT use placeholder values like "CHANGE_THIS" or "YOUR_SECRET"
# ‚ùå DO NOT use the same secret for both JWT_SECRET and JWT_REFRESH_SECRET

JWT_SECRET=
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=
JWT_REFRESH_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=

# ==================================
# SECURITY & CORS
# ==================================
# Allowed origins (comma-separated for multiple origins)
# In production, use your actual frontend domain
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:3001

# CORS Credentials - MUST be true for httpOnly cookies to work
# This is required when using withCredentials in frontend axios
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# Password Hashing
BCRYPT_ROUNDS=10

# ==================================
# FILE UPLOAD & STORAGE
# ==================================
# Storage Type: local | s3 | azure | gcs
STORAGE_TYPE=local
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760

# AWS S3 Configuration (if using S3)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
AWS_S3_BUCKET=visitor-management-uploads

# Azure Blob Storage (if using Azure)
AZURE_STORAGE_CONNECTION_STRING=
AZURE_STORAGE_CONTAINER=uploads

# ==================================
# EMAIL CONFIGURATION
# ==================================
# Email Provider: smtp | sendgrid | ses | mailgun
EMAIL_PROVIDER=smtp

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_NAME=Visitor Management System
SMTP_FROM_EMAIL=noreply@visitor-system.com

# SendGrid (if using SendGrid)
SENDGRID_API_KEY=

# AWS SES (if using SES)
AWS_SES_REGION=us-east-1

# Mailgun (if using Mailgun)
MAILGUN_API_KEY=
MAILGUN_DOMAIN=

# ==================================
# SMS CONFIGURATION
# ==================================
# SMS Provider: twilio | aws-sns | msg91
SMS_PROVIDER=twilio

# Twilio Configuration
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# AWS SNS (if using SNS)
AWS_SNS_REGION=us-east-1

# MSG91 (India specific)
MSG91_AUTH_KEY=
MSG91_SENDER_ID=

# ==================================
# PAYMENT GATEWAY CONFIGURATION
# ==================================
# Payment Provider: razorpay | stripe | paypal
PAYMENT_PROVIDER=razorpay

# Razorpay (India)
RAZORPAY_KEY_ID=
RAZORPAY_KEY_SECRET=
RAZORPAY_WEBHOOK_SECRET=

# Stripe
STRIPE_PUBLIC_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# PayPal
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=
PAYPAL_MODE=sandbox

# ==================================
# QR CODE & BADGE GENERATION
# ==================================
QR_CODE_SIZE=300
QR_CODE_ERROR_CORRECTION=M
BADGE_TEMPLATE_DIR=./templates/badges
BADGE_OUTPUT_DIR=./uploads/badges

# ==================================
# CACHE CONFIGURATION
# ==================================
# Cache Provider: memory | redis
CACHE_PROVIDER=memory
CACHE_TTL=300

# Redis Configuration (if using Redis)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=visitor:

# ==================================
# MEILISEARCH CONFIGURATION
# ==================================
# Meilisearch is used for fast PIN code autocomplete search
# Run with: docker-compose -f docker-compose-meilisearch.yml up -d
MEILISEARCH_URL=http://localhost:7700
MEILISEARCH_MASTER_KEY=developmentMasterKeyMin16Chars123
# Note: Change MASTER_KEY in production (minimum 16 characters)

# ==================================
# LOGGING & MONITORING
# ==================================
# Log Level: error | warn | info | debug | verbose
LOG_LEVEL=info
LOG_FORMAT=json

# Enable Request Logging
LOG_REQUESTS=true

# Sentry Error Tracking (optional)
SENTRY_DSN=

# ==================================
# WEBHOOK CONFIGURATION
# ==================================
# Generate using: npm run generate:secrets
WEBHOOK_SECRET=
WEBHOOK_TIMEOUT=5000

# ==================================
# ANALYTICS & REPORTING
# ==================================
# Future: PostgreSQL for analytics (when needed)
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=
# POSTGRES_DATABASE=visitor_analytics

# Google Analytics
GA_TRACKING_ID=

# ==================================
# THIRD-PARTY INTEGRATIONS
# ==================================
# Location Services
GOOGLE_MAPS_API_KEY=
LOCATION_API_PROVIDER=google

# Notification Services
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=

# WhatsApp Business API
WHATSAPP_API_URL=
WHATSAPP_API_TOKEN=

# ==================================
# SCHEDULED JOBS & QUEUE
# ==================================
# Enable Background Jobs
ENABLE_JOBS=true

# Job Queue (if using Bull)
BULL_REDIS_HOST=localhost
BULL_REDIS_PORT=6379

# ==================================
# FEATURE FLAGS
# ==================================
ENABLE_SWAGGER=true
ENABLE_RATE_LIMITING=true
ENABLE_COMPRESSION=true
ENABLE_HELMET=true
ENABLE_VALIDATION_PIPE=true

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System under maintenance. Please check back later.

# ==================================
# DEVELOPMENT TOOLS
# ==================================
# Enable GraphQL Playground (dev only)
ENABLE_GRAPHQL_PLAYGROUND=false

# Seed Database on Start (dev only)
SEED_DATABASE=false

# ==================================
# TIMEZONE & LOCALIZATION
# ==================================
TIMEZONE=Asia/Kolkata
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,hi

# ==================================
# SYSTEM SETTINGS
# ==================================
# Default values for system settings
DEFAULT_PAGINATION_LIMIT=10
MAX_PAGINATION_LIMIT=100

# Session timeout (in seconds)
SESSION_TIMEOUT=3600

# Password Policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBER=true
PASSWORD_REQUIRE_SPECIAL=true

# ==================================
 WhatsApp Configuration (Interakt - NEW PROVIDER)
# ============================================================
# Provider: Interakt WhatsApp Business API
# Documentation: https://documenter.getpostman.com/view/14760594/2sA2r7zibM
# ============================================================
INTERAKT_API_KEY=clE0cGVfREV6Q3NKNnhfZXNCbXF5Q09hcVc4QS10b3lBVHhYUHVWT0F4QTo=
INTERAKT_API_URL=https://api.interakt.ai/v1/public/message/

# WhatsApp OTP Template Configuration:
# - Template name: "otp"
# - Category: Authentication
# - Status: Must be approved in Interakt dashboard
# - Language: English (en)
# - Body: "{{1}} is your verification code. For your security, do not share this code."
# - Button: "Copy Code" (One-Time Passcode type)
# - Footer: "This code expires in 10 minutes."
# - Parameters: 1 (6-digit OTP code)

# ==================================
# BACKUP & DISASTER RECOVERY
# ==================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 0 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=./backups

